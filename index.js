const fs = require('fs')
const chalk = require('chalk')
const writeFile = require('write')
const prompts = require('prompts');
const questions = [
    {
        type: 'number',
        name: 'backgroundRed',
        message: 'Background Red:',
        initial: '0'
    },
    {
        type: 'number',
        name: 'backgroundBlue',
        message: 'Background Blue:',
        initial: '0'
    },
    {
        type: 'number',
        name: 'backgroundGreen',
        message: 'Background Green:',
        initial: '0'
    },
    {
        type: 'number',
        name: 'foregroundRed',
        message: 'Foreground Red:',
        initial: '0'
    },
    {
        type: 'number',
        name: 'foregroundBlue',
        message: 'Foreground Blue:',
        initial: '0'
    },
    {
        type: 'number',
        name: 'foregroundGreen',
        message: 'Foreground Green:',
        initial: '0'
    },
    {
        type: 'number',
        name: 'primaryRed',
        message: 'Primary Red:',
        initial: '0'
    },
    {
        type: 'number',
        name: 'primaryBlue',
        message: 'Primary Blue:',
        initial: '0'
    },
    {
        type: 'number',
        name: 'primaryGreen',
        message: 'Primary Green:',
        initial: '0'
    },
    {
        type: 'number',
        name: 'secondaryRed',
        message: 'Secondary Red:',
        initial: '0'
    },
    {
        type: 'number',
        name: 'secondaryGreen',
        message: 'Secondary Green:',
        initial: '0'
    },
    {
        type: 'number',
        name: 'secondaryBlue',
        message: 'Secondary Blue:',
        initial: '0'
    },
    {
        type: 'number',
        name: 'flashRed',
        message: 'Flash Red:',
        initial: '0'
    },
    {
        type: 'number',
        name: 'flashGreen',
        message: 'Flash Green:',
        initial: '0'
    },
    {
        type: 'number',
        name: 'flashBlue',
        message: 'Flash Blue:',
        initial: '0'
    }
]

const numbers = [1, 2, 3, 4, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85, 90, 95]
// Vars
let background = '';
let foreground = '';
let primary = '';
let secondary = '';
let flash = '';


// Loop through colors



// Write Files
(async () => {
    const results = await prompts(questions)
    var string = '';

    for (let x in numbers) {
        string += `--background-${numbers[x]}:rgba(${results.backgroundRed},${results.backgroundGreen},${results.backgroundBlue},0.${String(numbers[x]).padStart(2,"0") });`;
        string += `--foreground-${numbers[x]}:rgba(${results.foregroundRed},${results.foregroundGreen},${results.foregroundBlue},0.${String(numbers[x]).padStart(2,"0") });`;
        string += `--primary-${numbers[x]}:rgba(${results.primaryRed},${results.primaryGreen},${results.primaryBlue},0.${String(numbers[x]).padStart(2,"0") });`;
        string += `--secondary-${numbers[x]}:rgba(${results.secondaryRed},${results.secondaryGreen},${results.secondaryBlue},0.${String(numbers[x]).padStart(2,"0") });`;
        string += `--flash-${numbers[x]}:rgba(${results.flashRed},${results.flashGreen},${results.flashBlue},0.${String(numbers[x]).padStart(2,"0") });`;

    }

    const data =
        `/*CSS Generated by theme-gen (https://github.com/Gninoskcaj/theme-gen) :)*/\n:root {${string}}`
        
    await writeFile('theme.css', data)
})();